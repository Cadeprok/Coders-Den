<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="../static/style.css"> -->
    <link rel="stylesheet" href="../static/css/dash.css">
    <title>Document</title>
</head>
<body class="body">
    <section id="navbar">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand coding-den" href="#">Coding Den</a>
            <div class="navbar-collapse" id="navbarNavAltMarkup">
              <div class="navbar-nav">
                <a class="nav-item nav-link active" href="{{url_for('home')}}">Home <span class="sr-only">(current)</span></a>
              </div>
            </div>
          </nav>
    </section>



    <section class="else container">
    <!-- Load cards for Courses -->
          <section id="render_data" class="renderCourses">
          </section>
    </section>
    <!--<script src="{{url_for('static', filename='../static/app.js')}}" type="module"></script> -->
    <script type="text/javascript">
      render_data.innerHTML = ``;
      const user_id = "{{ user_id }}";

      const url = `/get_data/${user_id}`
      
      async function fetchData() {
        try {
          const response = await fetch(url);
          if(!response.ok){
            throw new Error('Network response was not ok');
          }
          data = await response.json();  // Convert response to JSON
          console.log(data);

        } catch (error) {
            console.error('Error:', error);
        }
        return data;
      }
      function getPurchasing(key){
        if (key === 'pythonOwner'){
          return 'python';
        }
        else if(key === 'javascriptOwner'){
          return 'javascript';
        }
        else{
          return 'java';
        }
      }

      function renderContent(renderData){

          data = Object.entries(renderData);

          let url;
          let buttonText;

          /*for(const [key, values] of data){
            if(key == 'javascriptOwner' )*/
            render_data.innerHTML += 
              `<div class="cardBorder item">
                  <div>
                    <img src="{{ url_for('static', filename='img/prof1.jpg') }}">
                  </div>
                  <div>
                    <h1>test</h1>
                    <h2>test</h2>
                    <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Alias esse culpa rerum, voluptate nisi ea dignissimos consequuntur ipsam ratione iusto nobis voluptatum maxime. Repudiandae, illum voluptate? Dolores, culpa accusantium asperiores ex, sint quia, nam ad animi accusamus ipsa molestiae quidem!</p>
                  </div>
                  <div class="purchaseButton">
                    <a href="{{ url_for('pythoncourse') }}">
                      <button>
                          Learn
                      </button>
                    </a>
                  </div>
              </div>

              <div class="cardBorder item">
                  <div>
                    <img src="{{ url_for('static', filename='img/prof1.jpg') }}">
                  </div>
                  <div>
                    <h1>test</h1>
                    <h2>test</h2>
                    <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Alias esse culpa rerum, voluptate nisi ea dignissimos consequuntur ipsam ratione iusto nobis voluptatum maxime. Repudiandae, illum voluptate? Dolores, culpa accusantium asperiores ex, sint quia, nam ad animi accusamus ipsa molestiae quidem!</p>
                  </div>
                  <div class="purchaseButton">
                    <a href="{{ url_for('javascriptcourse') }}">
                      <button>
                          Learn
                      </button>
                    </a>
                  </div>
              </div>

              <div class="cardBorder item">
                  <div>
                    <img src="{{ url_for('static', filename='img/prof1.jpg') }}">
                  </div>
                  <div>
                    <h1>test</h1>
                    <h2>test</h2>
                    <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Alias esse culpa rerum, voluptate nisi ea dignissimos consequuntur ipsam ratione iusto nobis voluptatum maxime. Repudiandae, illum voluptate? Dolores, culpa accusantium asperiores ex, sint quia, nam ad animi accusamus ipsa molestiae quidem!</p>
                  </div>
                  <div class="purchaseButton">
                    <a href="{{ url_for('javacourse') }}">
                      <button>
                          Learn
                      </button>
                    </a>
                  </div>
              </div>
              
              
              
              
              `
        /*}*/
      }
      let renderData = fetchData();
      renderContent(renderData);
  </script>
</body>
</html>